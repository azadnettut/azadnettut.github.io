<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="آزادنت - ابزارها و خدمات رایگان برای دسترسی به اطلاعات آزاد">
    <meta name="keywords" content="آزادنت, ابزار رایگان, عبور از فیلتر, اطلاعات آزاد">
    <meta name="author" content="تیم آزادنت">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#000">
    <title>آزادنت</title>
    <link rel="icon" href="ficon.png" type="image/x-icon">
    <link rel="alternate" hreflang="fa" href="https://azadnet.com/fa/">
    <link rel="alternate" hreflang="en" href="https://azadnet.com/en/">
    <link rel="alternate" hreflang="ar" href="https://azadnet.com/ar/">
    <link rel="alternate" hreflang="zh" href="https://azadnet.com/zh/">
    <link rel="alternate" hreflang="ru" href="https://azadnet.com/ru/">
    <link rel="alternate" hreflang="tr" href="https://azadnet.com/tr/">
    <style>
        @font-face {
            font-family: 'Estedad';
            src: url('/Estedad-FD-ExtraBold.woff2') format('woff2');
        }

        @font-face {
            font-family: 'Estedad';
            src: url('/Estedad-Thin.woff2') format('woff2');
            font-weight: 300;
            font-style: normal;
        }

        @font-face {
            font-family: 'Estedad';
            src: url('/Estedad-Bold.woff2') format('woff2');
            font-weight: 700;
            font-style: normal;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Estedad', Arial, sans-serif;
            font-weight: 300;
            direction: rtl;
            height: 100vh;
            overflow-x: hidden;
            background-color: var(--bg-color, #ffffff);
            color: var(--text-color, #333);
        }

        [lang="en"] body, [lang="zh"] body, [lang="ru"] body, [lang="tr"] body {
            direction: ltr;
        }

        [lang="ar"] body {
            direction: rtl;
        }

        :root {
            --bg-color: #ffffff;
            --text-color: #333;
            --nav-bg: #d3d3d3;
            --link-color: #007bff;
        }

        .container {
            display: flex;
            min-height: 100vh;
            position: relative;
            flex-direction: row;
        }

        .nav-menu {
            width: 200px;
            padding: 20px;
            background-color: var(--nav-bg);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            height: 100vh;
            box-sizing: border-box;
            position: fixed;
            top: 0;
            right: 0;
            z-index: 1000;
        }

        [lang="en"] .nav-menu, [lang="zh"] .nav-menu, [lang="ru"] .nav-menu, [lang="tr"] .nav-menu {
            right: auto;
            left: 0;
            direction: ltr;
        }

        .nav-menu.hidden {
            right: -200px;
        }

        [lang="en"] .nav-menu.hidden, [lang="zh"] .nav-menu.hidden, [lang="ru"] .nav-menu.hidden, [lang="tr"] .nav-menu.hidden {
            left: -200px;
        }

        .nav-menu .site-logo {
            display: block;
            width: 100px;
            height: auto;
            margin: 20px auto;
            user-select: none;
            will-change: transform;
            animation: dizzyAnimation 5s linear infinite;
        }

        @keyframes dizzyAnimation {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }

        .nav-menu ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
        }

        .nav-menu ul li {
            margin: 15px 0;
        }

        .nav-menu ul li a {
            text-decoration: none;
            color: var(--text-color);
            font-size: 18px;
            font-family: 'Estedad', Arial, sans-serif;
            font-weight: 700;
            cursor: pointer;
        }

        .nav-menu ul li a:hover {
            color: var(--link-color);
        }

        .language-menu, .theme-menu {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 10px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            margin-top: 10px;
            backdrop-filter: blur(10px);
        }

        .language-menu select, .theme-menu select {
            width: 100%;
            padding: 8px;
            background: transparent;
            border: none;
            font-size: 16px;
            font-family: 'Estedad', Arial, sans-serif;
            font-weight: 300;
            color: var(--text-color);
            cursor: pointer;
        }

        .content-wrapper {
            flex-grow: 1;
            margin-right: 200px;
            transition: margin 0.3s ease;
        }

        [lang="en"] .content-wrapper, [lang="zh"] .content-wrapper, [lang="ru"] .content-wrapper, [lang="tr"] .content-wrapper {
            margin-right: 0;
            margin-left: 200px;
        }

        .content-wrapper.expanded {
            margin-right: 0;
            margin-left: 0;
        }

        .content {
            flex-grow: 1;
            padding: 20px;
            display: none;
            justify-content: center;
            align-items: center;
            min-height: auto;
            overflow-y: auto;
            max-height: 100vh;
        }

        .content.active {
            display: flex;
        }

        #blog.content.active {
            padding-top: 80px;
        }

        .text-section {
            padding: 20px;
            max-width: 600px;
            text-align: justify;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .text-content span {
            font-family: 'Estedad', Arial, sans-serif;
            font-weight: 300;
        }

        .text-content strong {
            font-weight: 700;
        }

        #blog-posts {
            width: 100%;
            max-width: 600px;
            padding: 20px;
        }

        .blog-post {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: justify;
        }

        .blog-post h2 {
            font-size: 20px;
            margin-bottom: 10px;
            color: var(--link-color);
        }

        .blog-post p {
            font-size: 16px;
            line-height: 1.6;
        }

        .blog-post a {
            color: var(--link-color);
            text-decoration: none;
        }

        .blog-post a:hover {
            text-decoration: underline;
        }

        footer {
            text-align: center;
            padding: 10px;
            background: var(--nav-bg);
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 999;
        }

        .hamburger {
            display: block;
            position: fixed;
            top: 10px;
            right: 10px;
            font-size: 24px;
            background: none;
            border: none;
            color: var(--text-color);
            cursor: pointer;
            z-index: 1002;
            transition: all 0.3s ease;
        }

        /* حذف تنظیمات همبرگر برای LTR، همیشه از راست باشد */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                min-height: auto;
            }

            .nav-menu {
                width: 100%;
                padding: 10px;
                position: fixed;
                top: 0;
                right: -100%; /* منو همیشه از راست باز و بسته می‌شود */
                height: 100vh;
                transition: right 0.3s ease;
                justify-content: flex-start;
            }

            .nav-menu.active {
                right: 0; /* منو همیشه از راست ظاهر می‌شود */
            }

            /* اطمینان از اینکه منو در LTR از راست باشد */
            [lang="en"] .nav-menu, [lang="zh"] .nav-menu, [lang="ru"] .nav-menu, [lang="tr"] .nav-menu {
                right: -100%;
                left: auto;
            }

            [lang="en"] .nav-menu.active, [lang="zh"] .nav-menu.active, [lang="ru"] .nav-menu.active, [lang="tr"] .nav-menu.active {
                right: 0;
                left: auto;
            }

            .nav-menu .site-logo {
                width: 80px;
                margin: 20px auto;
            }

            .nav-menu ul {
                flex-direction: column;
                justify-content: flex-start;
                margin-top: 60px;
                margin-bottom: 0;
            }

            .nav-menu ul li {
                margin: 10px 0;
            }

            .language-menu, .theme-menu {
                margin-top: 10px;
                padding: 6px;
            }

            .language-menu select, .theme-menu select {
                font-size: 12px;
                padding: 4px;
            }

            .content-wrapper {
                margin: 0;
            }

            .content {
                padding: 10px;
                max-height: none;
                margin-top: 60px;
            }

            #blog.content.active {
                padding-top: 60px;
            }

            .text-section {
                padding: 10px;
            }

            #blog-posts {
                padding: 10px;
            }

            /* همبرگر همیشه در سمت راست */
            .hamburger {
                right: 10px;
                left: auto;
            }

            [lang="en"] .hamburger, [lang="zh"] .hamburger, [lang="ru"] .hamburger, [lang="tr"] .hamburger {
                right: 10px;
                left: auto;
            }
        }

        @media (min-width: 769px) {
            .text-section {
                height: 50vh;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <nav class="nav-menu">
            <img src="logo.png" alt="آزادنت لوگو" class="site-logo">
            <ul>
                <li><a href="#home" onclick="showSection('home'); return false;" data-lang-fa="خانه" data-lang-en="Home" data-lang-ar="الرئيسية" data-lang-zh="首页" data-lang-ru="Главная" data-lang-tr="Ana Sayfa">خانه</a></li>
                <li><a href="#rescue" onclick="showSection('rescue'); return false;" data-lang-fa="پکیج نجات" data-lang-en="Rescue Package" data-lang-ar="باقة الإنقاذ" data-lang-zh="救援包" data-lang-ru="Пакет спасения" data-lang-tr="Kurtarma Paketi">پکیج نجات</a></li>
                <li><a href="#blog" onclick="showSection('blog'); loadBlogPosts(); return false;" data-lang-fa="وبلاگ" data-lang-en="Blog" data-lang-ar="مدونة" data-lang-zh="博客" data-lang-ru="Блог" data-lang-tr="Blog">وبلاگ</a></li>
            </ul>
            <div class="language-menu">
                <select onchange="changeLanguage(this.value)" aria-label="انتخاب زبان">
                    <option value="fa" selected>فارسی</option>
                    <option value="en">English</option>
                    <option value="ar">العربية</option>
                    <option value="zh">中文</option>
                    <option value="ru">Русский</option>
                    <option value="tr">Turkish</option>
                </select>
            </div>
            <div class="theme-menu">
                <select id="theme-select" onchange="changeTheme(this.value)" aria-label="انتخاب تم">
                    <option value="default">Default</option>
                    <option value="theme1">Theme 1</option>
                    <option value="theme2">Theme 2</option>
                    <option value="theme3">Theme 3</option>
                    <option value="theme4">Theme 4</option>
                </select>
            </div>
        </nav>
        <button class="hamburger" onclick="toggleMenu()">☰</button>
        <div class="content-wrapper">
            <div id="home" class="content active">
                <div class="text-section">
                    <h1 id="welcome-text">خوش آمدید</h1>
                    <p class="text-content">
                        <span lang="fa">ما جمعی هستیم که تحت نام "آزادنت" گرد هم آمده‌ایم، با هدف ارائه خدمات رایگان و بدون محدودیت برای دسترسی به اطلاعات آزاد. ما خود را تابع قوانین ستمگرانه نمی‌دانیم و در راستای آزادی و سربلندی گام برمی‌داریم.</span>
                        <span lang="en" style="display:none">We are a group gathered under the name "Azadnet" to provide free and unrestricted access to information. We do not follow oppressive laws and strive for freedom and dignity.</span>
                        <span lang="ar" style="display:none">نحن مجموعة تجمعت تحت اسم "آزادنت" لتقديم خدمات مجانية وبلا قيود للوصول إلى المعلومات الحرة. لا نتبع القوانين الظالمة ونسعى للحرية والكرامة.</span>
                        <span lang="zh" style="display:none">我们是一群以“自由网”之名聚集在一起的人，旨在提供免费且无限制的信息访问服务。我们不遵循压迫性法律，致力于自由与尊严。</span>
                        <span lang="ru" style="display:none">Мы - группа, собравшаяся под названием "Азаднет", чтобы предоставить бесплатный и неограниченный доступ к информации. Мы не подчиняемся угнетающим законам и стремимся к свободе и достоинству.</span>
                        <span lang="tr" style="display:none">Biz, "Azadnet" adı altında toplanmış bir grup olarak, bilgiye ücretsiz ve kısıtlamasız erişim sağlamak amacıyla bir araya geldik. Baskıcı yasalara uymuyor, özgürlük ve onur için çabalıyoruz.</span>
                    </p>
                </div>
            </div>
            <div id="rescue" class="content">
                <div class="text-section">
                    <h1 id="rescue-text">پکیج نجات</h1>
                    <p class="text-content">
                        <span lang="fa"><strong>پکیج نجات</strong>: محتوای پکیج نجات در حال آماده‌سازی است. لطفاً بعداً مراجعه کنید.</span>
                        <span lang="en" style="display:none"><strong>Rescue Package</strong>: The content of the Rescue Package is under preparation. Please check back later.</span>
                        <span lang="ar" style="display:none"><strong>باقة الإنقاذ</strong>: محتوى باقة الإنقاذ قيد التحضير. يرجى العودة لاحقًا.</span>
                        <span lang="zh" style="display:none"><strong>救援包</strong>: 救援包内容正在准备中。请稍后再回来查看。</span>
                        <span lang="ru" style="display:none"><strong>Пакет спасения</strong>: Содержимое спасательного пакета находится в стадии подготовки. Пожалуйста, зайдите позже.</span>
                        <span lang="tr" style="display:none"><strong>Kurtarma Paketi</strong>: Kurtarma Paketi'nin içeriği hazırlanmaktadır. Lütfen daha sonra tekrar kontrol edin。</span>
                    </p>
                </div>
            </div>
            <div id="blog" class="content">
                <div id="blog-posts">
                    <p>در حال بارگذاری پست‌ها...</p>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <p>تماس با ما: t.me/azadnet | © 1404 </p>
    </footer>
    <script>
        const contents = document.querySelectorAll('.content'),
              spans = document.querySelectorAll('.text-content span'),
              links = document.querySelectorAll('.nav-menu a');
        let blogPostsCache = null;

        function showSection(id) {
            const section = document.getElementById(id);
            if (!section) {
                console.warn(`بخش با شناسه ${id} پیدا نشد!`);
                return;
            }
            contents.forEach(content => content.classList.remove('active'));
            section.classList.add('active');
            links.forEach(link => link.removeAttribute('aria-current'));
            const activeLink = document.querySelector(`a[href="#${id}"]`);
            activeLink.setAttribute('aria-current', 'page');
            window.location.hash = id;
            updateContent();

            // بستن منو در نسخه موبایل پس از انتخاب گزینه
            if (window.innerWidth <= 768) {
                const navMenu = document.querySelector('.nav-menu');
                navMenu.classList.remove('active');
            }
        }

        async function changeLanguage(lang) {
            document.documentElement.lang = lang;
            localStorage.setItem('selectedLanguage', lang); // ذخیره زبان در localStorage
            updateContent();
            updateNavMenu(lang);
            await updateSectionTitles(lang);
            if (document.getElementById('blog').classList.contains('active')) {
                loadBlogPosts();
            }
        }

        function updateNavMenu(lang) {
            links.forEach(link => {
                const text = link.getAttribute(`data-lang-${lang}`);
                if (text) link.textContent = text;
            });
        }

        function updateContent() {
            const currentLang = document.documentElement.lang;
            spans.forEach(span => {
                span.style.display = span.lang === currentLang ? 'block' : 'none';
            });
        }

        async function updateSectionTitles(lang) {
            const translations = {
                'welcome': {
                    'fa': 'خوش آمدید',
                    'en': 'Welcome',
                    'ar': 'مرحبًا',
                    'zh': '欢迎',
                    'ru': 'Добро пожаловать',
                    'tr': 'Hoş Geldiniz'
                },
                'rescue': {
                    'fa': 'پکیج نجات',
                    'en': 'Rescue Package',
                    'ar': 'باقة الإنقاذ',
                    'zh': '救援包',
                    'ru': 'Пакет спасения',
                    'tr': 'Kurtarma Paketi'
                }
            };

            const welcomeText = document.getElementById('welcome-text');
            const rescueText = document.getElementById('rescue-text');

            if (lang !== 'fa') {
                welcomeText.textContent = await translateText(translations['welcome']['fa'], 'fa', lang) || translations['welcome'][lang];
                rescueText.textContent = await translateText(translations['rescue']['fa'], 'fa', lang) || translations['rescue'][lang];
            } else {
                welcomeText.textContent = translations['welcome']['fa'];
                rescueText.textContent = translations['rescue']['fa'];
            }
        }

        function toggleMenu() {
            const navMenu = document.querySelector('.nav-menu');
            const contentWrapper = document.querySelector('.content-wrapper');
            if (window.innerWidth > 768) {
                navMenu.classList.toggle('hidden');
                contentWrapper.classList.toggle('expanded');
            } else {
                navMenu.classList.toggle('active');
            }
        }

        function loadSectionFromHash() {
            const hash = window.location.hash.substring(1);
            const validSections = ['home', 'rescue', 'blog'];
            if (hash && validSections.includes(hash)) {
                showSection(hash);
                if (hash === 'blog') loadBlogPosts();
            } else {
                showSection('home');
            }
        }

        async function loadBlogPosts() {
            const blogPostsContainer = document.getElementById('blog-posts');
            const currentLang = document.documentElement.lang || 'fa';
            blogPostsContainer.innerHTML = '<p>در حال بارگذاری پست‌ها...</p>';

            if (blogPostsCache && currentLang === 'fa') {
                blogPostsContainer.innerHTML = blogPostsCache;
                return;
            }

            const feedUrl = 'https://api.allorigins.win/raw?url=' + encodeURIComponent('https://hpip.blogspot.com/feeds/posts/default');
            try {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 5000);
                const response = await fetch(feedUrl, { signal: controller.signal });
                clearTimeout(timeoutId);
                const data = await response.text();
                const parser = new DOMParser();
                const xmlDoc = parser.parseFromString(data, 'text/xml');
                const entries = xmlDoc.getElementsByTagName('entry');

                blogPostsContainer.innerHTML = '';
                for (let i = 0; i < entries.length; i++) {
                    const entry = entries[i];
                    const title = entry.getElementsByTagName('title')[0].textContent;
                    const content = entry.getElementsByTagName('content')[0].textContent.replace(/<[^>]+>/g, '');
                    const link = Array.from(entry.getElementsByTagName('link'))
                        .find(link => link.getAttribute('rel') === 'alternate')
                        ?.getAttribute('href') || 'https://hpip.blogspot.com';

                    let translatedTitle = title;
                    let translatedContent = content;
                    if (currentLang !== 'fa') {
                        translatedTitle = await translateText(title, 'fa', currentLang);
                        translatedContent = await translateText(content, 'fa', currentLang);
                    }

                    const postDiv = document.createElement('div');
                    postDiv.className = 'blog-post';
                    postDiv.innerHTML = `
                        <h2><a href="${link}" target="_blank">${translatedTitle}</a></h2>
                        <p>${translatedContent.substring(0, 200)}... <a href="${link}" target="_blank">ادامه مطلب</a></p>
                    `;
                    blogPostsContainer.appendChild(postDiv);
                }

                if (currentLang === 'fa') blogPostsCache = blogPostsContainer.innerHTML;
            } catch (error) {
                console.error('خطا در دریافت فید: ', error);
                blogPostsContainer.innerHTML = '<p>خطا در بارگذاری. بعداً تلاش کنید.</p>';
            }
        }

        async function translateText(text, fromLang, toLang) {
            if (fromLang === toLang) return text;
            try {
                const response = await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=${fromLang}&tl=${toLang}&dt=t&q=${encodeURIComponent(text)}`);
                const data = await response.json();
                return data[0][0][0];
            } catch (error) {
                console.error('خطا در ترجمه: ', error);
                return text;
            }
        }

        function changeTheme(theme) {
            const root = document.documentElement;
            switch(theme) {
                case 'default':
                    root.style.setProperty('--bg-color', '#ffffff');
                    root.style.setProperty('--text-color', '#333');
                    root.style.setProperty('--nav-bg', '#d3d3d3');
                    root.style.setProperty('--link-color', '#007bff');
                    break;
                case 'theme1':
                    root.style.setProperty('--bg-color', '#F4EDEA');
                    root.style.setProperty('--text-color', '#5D576B');
                    root.style.setProperty('--nav-bg', '#D8E2DC');
                    root.style.setProperty('--link-color', '#5D576B');
                    break;
                case 'theme2':
                    root.style.setProperty('--bg-color', '#FFD7BA');
                    root.style.setProperty('--text-color', '#5F0F40');
                    root.style.setProperty('--nav-bg', '#FFB4A2');
                    root.style.setProperty('--link-color', '#5F0F40');
                    break;
                case 'theme3':
                    root.style.setProperty('--bg-color', '#ECF4D6');
                    root.style.setProperty('--text-color', '#265073');
                    root.style.setProperty('--nav-bg', '#9AD0C2');
                    root.style.setProperty('--link-color', '#265073');
                    break;
                case 'theme4':
                    root.style.setProperty('--bg-color', '#E0F2E9');
                    root.style.setProperty('--text-color', '#1A3C34');
                    root.style.setProperty('--nav-bg', '#A4C3B2');
                    root.style.setProperty('--link-color', '#1A3C34');
                    break;
            }
            localStorage.setItem('selectedTheme', theme);
        }

        function loadSavedTheme() {
            const savedTheme = localStorage.getItem('selectedTheme') || 'default';
            changeTheme(savedTheme);
            document.getElementById('theme-select').value = savedTheme;
        }

        function loadSavedLanguage() {
            const savedLanguage = localStorage.getItem('selectedLanguage') || 'fa';
            document.documentElement.lang = savedLanguage;
            document.querySelector('.language-menu select').value = savedLanguage;
            changeLanguage(savedLanguage);
        }

        window.onload = function() {
            loadSavedTheme();
            loadSavedLanguage(); // بارگذاری زبان ذخیره‌شده
            loadSectionFromHash();
        };

        window.onhashchange = loadSectionFromHash;
    </script>
</body>
</html>
